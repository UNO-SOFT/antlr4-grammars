# Copyright 2017 Google Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

#
# Do not edit this file, it is generated by makemake.go
#
MAKEFLAGS += --no-builtin-rules

.PHONY: all antlr clean rebuild test
.SILENT:
.DELETE_ON_ERROR:
.SUFFIXES:

ANTLR_BIN := $(PWD)/.bin/antlr-4.7-complete.jar
ANTLR_URL := http://www.antlr.org/download/antlr-4.7-complete.jar
ANTLR_ARGS := -Dlanguage=Go -visitor

GRAMMARS := abnf agc antlr3 antlr4 apex arithmetic asm6502 asn atl basic bnf brainfuck c calculator clf clif clojure cobol85 cookie cool cpp creole csharp css3 csv datetime dcm dice dot ecmascript emailaddress erlang fasta fol fortran77 fusion_tables gff3 gml golang graphql graphstream_dgs gtin html icalendar idl informix iri istc java java8 java8_pt javadoc jpa json kotlin kuka lambda lcc less logo lolcode lua masm mdx memcached_protocol metric modelica modula2pim4 molecule morsecode mps mumath mumps muparser mysql oncrpc p pascal pcre pddl pdn pdp7 peoplecode pgn php plsql postalcode powerbuilder prolog propcalc properties protobuf3 python2 python3 python3_js python3_py python3_ts python3alt quakemap r rcs redcode robotwars romannumerals rpn ruby scala scss sexpression sharc smalltalk smtlibv2 snobol sparql sqlite stacktrace stringtemplate suokif swift2 swift3 telephone tiny tinyc tnsnames tnt tsql turtle ucb_logo unicode/graphemes unicode/unicode16 url useragent vb6 vba verilog vhdl wavefront webidl xml xpath z

LANG_COLOR = \033[0;36m
NO_COLOR   = \033[m

# This is the default target
rebuild: antlr test

all:
	go run makemake.go
	make clean
	make -k -j2 rebuild 2> /dev/null

clean:
	@rm -r $(GRAMMARS) 2> /dev/null || true

antlr: $(ANTLR_BIN)
$(ANTLR_BIN):
	mkdir -p .bin
	curl -o $@ $(ANTLR_URL)

test: abnf/abnf_test.go agc/agc_test.go antlr3/antlrv3_test.go antlr4/antlrv4_test.go apex/apex_test.go arithmetic/arithmetic_test.go asm6502/asm6502_test.go asn/asn_test.go atl/atl_test.go basic/jvmbasic_test.go bnf/bnf_test.go brainfuck/brainfuck_test.go c/c_test.go calculator/calculator_test.go clf/clf_test.go clif/clif_test.go clojure/clojure_test.go cobol85/cobol85_test.go cookie/cookie_test.go cool/cool_test.go cpp/cpp14_test.go creole/creole_test.go csharp/csharppreprocessor_test.go css3/css3_test.go csv/csv_test.go datetime/datetime_test.go dcm/dcm_2_0_grammar_test.go dice/dicenotation_test.go dot/dot_test.go ecmascript/ecmascript_test.go emailaddress/emailaddress_test.go erlang/erlang_test.go fasta/fasta_test.go fol/fol_test.go fortran77/fortran77_test.go fusion_tables/fusiontablessql_test.go gff3/gff3_test.go gml/gml_test.go golang/golang_test.go graphql/graphql_test.go graphstream_dgs/dgs_test.go gtin/gtin_test.go html/html_test.go icalendar/icalendar_test.go idl/idl_test.go informix/informix_test.go iri/iri_test.go istc/istc_test.go java/java_test.go java8/java8_test.go java8_pt/java_test.go javadoc/javadoc_test.go jpa/jpa_test.go json/json_test.go kotlin/kotlin_test.go kuka/krl_test.go lambda/lambda_test.go lcc/lcc_test.go less/less_test.go logo/logo_test.go lolcode/lolcode_test.go lua/lua_test.go masm/masm_test.go mdx/mdx_test.go memcached_protocol/memcached_protocol_test.go metric/metric_test.go modelica/modelica_test.go modula2pim4/m2pim4_test.go molecule/molecule_test.go morsecode/morsecode_test.go mps/mps_test.go mumath/mumath_test.go mumps/mumps_test.go muparser/muparser_test.go mysql/mysql_test.go oncrpc/oncrpcv2_test.go p/p_test.go pascal/pascal_test.go pcre/pcre_test.go pddl/pddl_test.go pdn/pdn_test.go pdp7/pdp7_test.go peoplecode/peoplecode_test.go pgn/pgn_test.go php/php_test.go plsql/plsql_test.go postalcode/postalcode_test.go powerbuilder/powerbuilder_test.go prolog/prolog_test.go propcalc/propcalc_test.go properties/properties_test.go protobuf3/protobuf3_test.go python2/python2_test.go python3/python3_test.go python3_js/python3_test.go python3_py/python3_test.go python3_ts/python3_test.go python3alt/altpython3_test.go quakemap/quakemap_test.go r/rfilter_test.go rcs/rcs_test.go redcode/redcode_test.go robotwars/robotwar_test.go romannumerals/romannumerals_test.go rpn/rpn_test.go ruby/corundum_test.go scala/scala_test.go scss/scss_test.go sexpression/sexpression_test.go sharc/sharc_test.go smalltalk/smalltalk_test.go smtlibv2/smtlibv2_test.go snobol/snobol_test.go sparql/sparql_test.go sqlite/sqlite_test.go stacktrace/stacktrace_test.go stringtemplate/st_test.go suokif/suokif_test.go swift2/2.2_test.go swift3/swift3_test.go telephone/telephone_test.go tiny/tiny_test.go tinyc/tinyc_test.go tnsnames/tnsnames_test.go tnt/tnt_test.go tsql/tsql_test.go turtle/turtle_test.go ucb_logo/ucblogo_test.go unicode/graphemes/graphemes_test.go unicode/unicode16/classify_test.go url/url_test.go useragent/useragent_test.go vb6/visualbasic6_test.go vba/vba_test.go verilog/verilog2001_test.go vhdl/vhdl_test.go wavefront/wavefrontobj_test.go webidl/webidl_test.go xml/xml_test.go xpath/xpath_test.go z/z_test.go 



abnf: abnf/abnf_test.go
abnf/abnf_parser.go abnf/abnf_lexer.go: grammars-v4/abnf/Abnf.g4
abnf/abnf_test.go: abnf/abnf_parser.go abnf/abnf_lexer.go

agc: agc/agc_test.go
agc/agc_parser.go agc/agc_lexer.go: grammars-v4/agc/agc.g4
agc/agc_test.go: agc/agc_parser.go agc/agc_lexer.go

antlr3: antlr3/antlrv3_test.go
antlr3/antlrv3_parser.go antlr3/antlrv3_lexer.go: grammars-v4/antlr3/ANTLRv3.g4
antlr3/antlrv3_test.go: antlr3/antlrv3_parser.go antlr3/antlrv3_lexer.go

antlr4: antlr4/antlrv4_test.go
antlr4/antlrv4_parser.go antlr4/antlrv4_lexer.go: grammars-v4/antlr4/ANTLRv4Parser.g4 grammars-v4/antlr4/ANTLRv4Lexer.g4
antlr4/antlrv4_test.go: antlr4/antlrv4_parser.go antlr4/antlrv4_lexer.go

apex: apex/apex_test.go
apex/apex_parser.go apex/apex_lexer.go: grammars-v4/apex/apex.g4
apex/apex_test.go: apex/apex_parser.go apex/apex_lexer.go

arithmetic: arithmetic/arithmetic_test.go
arithmetic/arithmetic_parser.go arithmetic/arithmetic_lexer.go: grammars-v4/arithmetic/arithmetic.g4
arithmetic/arithmetic_test.go: arithmetic/arithmetic_parser.go arithmetic/arithmetic_lexer.go

asm6502: asm6502/asm6502_test.go
asm6502/asm6502_parser.go asm6502/asm6502_lexer.go: grammars-v4/asm6502/asm6502.g4
asm6502/asm6502_test.go: asm6502/asm6502_parser.go asm6502/asm6502_lexer.go

asn: asn/asn_test.go
asn/asn_parser.go asn/asn_lexer.go: grammars-v4/asn/ASN.g4
asn/asn_test.go: asn/asn_parser.go asn/asn_lexer.go

atl: atl/atl_test.go
atl/atl_parser.go atl/atl_lexer.go: grammars-v4/atl/ATL.g4
atl/atl_test.go: atl/atl_parser.go atl/atl_lexer.go

basic: basic/jvmbasic_test.go
basic/jvmbasic_parser.go basic/jvmbasic_lexer.go: grammars-v4/basic/jvmBasic.g4
basic/jvmbasic_test.go: basic/jvmbasic_parser.go basic/jvmbasic_lexer.go

bnf: bnf/bnf_test.go
bnf/bnf_parser.go bnf/bnf_lexer.go: grammars-v4/bnf/bnf.g4
bnf/bnf_test.go: bnf/bnf_parser.go bnf/bnf_lexer.go

brainfuck: brainfuck/brainfuck_test.go
brainfuck/brainfuck_parser.go brainfuck/brainfuck_lexer.go: grammars-v4/brainfuck/brainfuck.g4
brainfuck/brainfuck_test.go: brainfuck/brainfuck_parser.go brainfuck/brainfuck_lexer.go

c: c/c_test.go
c/c_parser.go c/c_lexer.go: grammars-v4/c/C.g4
c/c_test.go: c/c_parser.go c/c_lexer.go

calculator: calculator/calculator_test.go
calculator/calculator_parser.go calculator/calculator_lexer.go: grammars-v4/calculator/calculator.g4
calculator/calculator_test.go: calculator/calculator_parser.go calculator/calculator_lexer.go

clf: clf/clf_test.go
clf/clf_parser.go clf/clf_lexer.go: grammars-v4/clf/clf.g4
clf/clf_test.go: clf/clf_parser.go clf/clf_lexer.go

clif: clif/clif_test.go
clif/clif_parser.go clif/clif_lexer.go: grammars-v4/clif/CLIF.g4
clif/clif_test.go: clif/clif_parser.go clif/clif_lexer.go

clojure: clojure/clojure_test.go
clojure/clojure_parser.go clojure/clojure_lexer.go: grammars-v4/clojure/Clojure.g4
clojure/clojure_test.go: clojure/clojure_parser.go clojure/clojure_lexer.go

cobol85: cobol85/cobol85_test.go
cobol85/cobol85_parser.go cobol85/cobol85_lexer.go cobol85/cobol85preprocessor_parser.go cobol85/cobol85preprocessor_lexer.go: grammars-v4/cobol85/Cobol85.g4 grammars-v4/cobol85/Cobol85Preprocessor.g4
cobol85/cobol85_test.go: cobol85/cobol85_parser.go cobol85/cobol85_lexer.go cobol85/cobol85preprocessor_parser.go cobol85/cobol85preprocessor_lexer.go

cookie: cookie/cookie_test.go
cookie/cookie_parser.go cookie/cookie_lexer.go: grammars-v4/cookie/cookie.g4
cookie/cookie_test.go: cookie/cookie_parser.go cookie/cookie_lexer.go

cool: cool/cool_test.go
cool/cool_parser.go cool/cool_lexer.go: grammars-v4/cool/COOL.g4
cool/cool_test.go: cool/cool_parser.go cool/cool_lexer.go

cpp: cpp/cpp14_test.go
cpp/cpp14_parser.go cpp/cpp14_lexer.go: grammars-v4/cpp/CPP14.g4
cpp/cpp14_test.go: cpp/cpp14_parser.go cpp/cpp14_lexer.go

creole: creole/creole_test.go
creole/creole_parser.go creole/creole_lexer.go: grammars-v4/creole/creole.g4
creole/creole_test.go: creole/creole_parser.go creole/creole_lexer.go

csharp: csharp/csharppreprocessor_test.go
csharp/csharp_lexer.go csharp/csharppreprocessor_parser.go csharp/csharp_parser.go: grammars-v4/csharp/CSharpLexer.g4 grammars-v4/csharp/CSharpPreprocessorParser.g4 grammars-v4/csharp/CSharpParser.g4
csharp/csharppreprocessor_test.go: csharp/csharp_lexer.go csharp/csharppreprocessor_parser.go csharp/csharp_parser.go

css3: css3/css3_test.go
css3/css3_parser.go css3/css3_lexer.go: grammars-v4/css3/css3.g4
css3/css3_test.go: css3/css3_parser.go css3/css3_lexer.go

csv: csv/csv_test.go
csv/csv_parser.go csv/csv_lexer.go: grammars-v4/csv/CSV.g4
csv/csv_test.go: csv/csv_parser.go csv/csv_lexer.go

datetime: datetime/datetime_test.go
datetime/datetime_parser.go datetime/datetime_lexer.go: grammars-v4/datetime/datetime.g4
datetime/datetime_test.go: datetime/datetime_parser.go datetime/datetime_lexer.go

dcm: dcm/dcm_2_0_grammar_test.go
dcm/dcm_2_0_grammar_parser.go dcm/dcm_2_0_grammar_lexer.go: grammars-v4/dcm/DCM_2_0_grammar.g4
dcm/dcm_2_0_grammar_test.go: dcm/dcm_2_0_grammar_parser.go dcm/dcm_2_0_grammar_lexer.go

dice: dice/dicenotation_test.go
dice/dicenotation_parser.go dice/dicenotation_lexer.go dice/dicenotation_lexer.go: grammars-v4/dice/DiceNotation.g4 grammars-v4/dice/DiceNotationLexer.g4
dice/dicenotation_test.go: dice/dicenotation_parser.go dice/dicenotation_lexer.go dice/dicenotation_lexer.go

dot: dot/dot_test.go
dot/dot_parser.go dot/dot_lexer.go: grammars-v4/dot/DOT.g4
dot/dot_test.go: dot/dot_parser.go dot/dot_lexer.go

ecmascript: ecmascript/ecmascript_test.go
ecmascript/ecmascript_parser.go ecmascript/ecmascript_lexer.go: grammars-v4/ecmascript/ECMAScript.GoTarget.g4
ecmascript/ecmascript_test.go: ecmascript/ecmascript_parser.go ecmascript/ecmascript_lexer.go

emailaddress: emailaddress/emailaddress_test.go
emailaddress/emailaddress_parser.go emailaddress/emailaddress_lexer.go: grammars-v4/emailaddress/emailaddress.g4
emailaddress/emailaddress_test.go: emailaddress/emailaddress_parser.go emailaddress/emailaddress_lexer.go

erlang: erlang/erlang_test.go
erlang/erlang_parser.go erlang/erlang_lexer.go: grammars-v4/erlang/Erlang.g4
erlang/erlang_test.go: erlang/erlang_parser.go erlang/erlang_lexer.go

fasta: fasta/fasta_test.go
fasta/fasta_parser.go fasta/fasta_lexer.go: grammars-v4/fasta/fasta.g4
fasta/fasta_test.go: fasta/fasta_parser.go fasta/fasta_lexer.go

fol: fol/fol_test.go
fol/fol_parser.go fol/fol_lexer.go: grammars-v4/fol/fol.g4
fol/fol_test.go: fol/fol_parser.go fol/fol_lexer.go

fortran77: fortran77/fortran77_test.go
fortran77/fortran77_parser.go fortran77/fortran77_lexer.go: grammars-v4/fortran77/fortran77.g4
fortran77/fortran77_test.go: fortran77/fortran77_parser.go fortran77/fortran77_lexer.go

fusion_tables: fusion_tables/fusiontablessql_test.go
fusion_tables/fusiontablessql_parser.go fusion_tables/fusiontablessql_lexer.go: grammars-v4/fusion-tables/FusionTablesSql.g4
fusion_tables/fusiontablessql_test.go: fusion_tables/fusiontablessql_parser.go fusion_tables/fusiontablessql_lexer.go

gff3: gff3/gff3_test.go
gff3/gff3_parser.go gff3/gff3_lexer.go: grammars-v4/gff3/gff3.g4
gff3/gff3_test.go: gff3/gff3_parser.go gff3/gff3_lexer.go

gml: gml/gml_test.go
gml/gml_parser.go gml/gml_lexer.go: grammars-v4/gml/gml.g4
gml/gml_test.go: gml/gml_parser.go gml/gml_lexer.go

golang: golang/golang_test.go
golang/golang_parser.go golang/golang_lexer.go: grammars-v4/golang/Golang.g4
golang/golang_test.go: golang/golang_parser.go golang/golang_lexer.go

graphql: graphql/graphql_test.go
graphql/graphql_parser.go graphql/graphql_lexer.go: grammars-v4/graphql/GraphQL.g4
graphql/graphql_test.go: graphql/graphql_parser.go graphql/graphql_lexer.go

graphstream_dgs: graphstream_dgs/dgs_test.go
graphstream_dgs/dgs_parser.go graphstream_dgs/dgs_lexer.go: grammars-v4/graphstream-dgs/DGSParser.g4 grammars-v4/graphstream-dgs/DGSLexer.g4
graphstream_dgs/dgs_test.go: graphstream_dgs/dgs_parser.go graphstream_dgs/dgs_lexer.go

gtin: gtin/gtin_test.go
gtin/gtin_parser.go gtin/gtin_lexer.go: grammars-v4/gtin/gtin.g4
gtin/gtin_test.go: gtin/gtin_parser.go gtin/gtin_lexer.go

html: html/html_test.go
html/html_lexer.go html/html_parser.go: grammars-v4/html/HTMLLexer.g4 grammars-v4/html/HTMLParser.g4
html/html_test.go: html/html_lexer.go html/html_parser.go

icalendar: icalendar/icalendar_test.go
icalendar/icalendar_parser.go icalendar/icalendar_lexer.go: grammars-v4/icalendar/ICalendar.g4
icalendar/icalendar_test.go: icalendar/icalendar_parser.go icalendar/icalendar_lexer.go

idl: idl/idl_test.go
idl/idl_parser.go idl/idl_lexer.go: grammars-v4/idl/IDL.g4
idl/idl_test.go: idl/idl_parser.go idl/idl_lexer.go

informix: informix/informix_test.go
informix/informix_parser.go informix/informix_lexer.go: grammars-v4/informix/informix.g4
informix/informix_test.go: informix/informix_parser.go informix/informix_lexer.go

iri: iri/iri_test.go
iri/iri_parser.go iri/iri_lexer.go: grammars-v4/iri/IRI.g4
iri/iri_test.go: iri/iri_parser.go iri/iri_lexer.go

istc: istc/istc_test.go
istc/istc_parser.go istc/istc_lexer.go: grammars-v4/istc/istc.g4
istc/istc_test.go: istc/istc_parser.go istc/istc_lexer.go

java: java/java_test.go
java/java_parser.go java/java_lexer.go: grammars-v4/java/Java.g4
java/java_test.go: java/java_parser.go java/java_lexer.go

java8: java8/java8_test.go
java8/java8_parser.go java8/java8_lexer.go: grammars-v4/java8/Java8.g4
java8/java8_test.go: java8/java8_parser.go java8/java8_lexer.go

java8_pt: java8_pt/java_test.go
java8_pt/java_lexer.go java8_pt/java_parser.go: grammars-v4/java8-pt/JavaLexer.g4 grammars-v4/java8-pt/JavaParser.g4
java8_pt/java_test.go: java8_pt/java_lexer.go java8_pt/java_parser.go

javadoc: javadoc/javadoc_test.go
javadoc/javadoc_parser.go javadoc/javadoc_lexer.go: grammars-v4/javadoc/JavadocParser.g4 grammars-v4/javadoc/JavadocLexer.g4
javadoc/javadoc_test.go: javadoc/javadoc_parser.go javadoc/javadoc_lexer.go

jpa: jpa/jpa_test.go
jpa/jpa_parser.go jpa/jpa_lexer.go: grammars-v4/jpa/JPA.g4
jpa/jpa_test.go: jpa/jpa_parser.go jpa/jpa_lexer.go

json: json/json_test.go
json/json_parser.go json/json_lexer.go: grammars-v4/json/JSON.g4
json/json_test.go: json/json_parser.go json/json_lexer.go

kotlin: kotlin/kotlin_test.go
kotlin/kotlin_lexer.go kotlin/kotlin_parser.go: grammars-v4/kotlin/KotlinLexer.g4 grammars-v4/kotlin/KotlinParser.g4
kotlin/kotlin_test.go: kotlin/kotlin_lexer.go kotlin/kotlin_parser.go

kuka: kuka/krl_test.go
kuka/krl_parser.go kuka/krl_lexer.go: grammars-v4/kuka/krl.g4
kuka/krl_test.go: kuka/krl_parser.go kuka/krl_lexer.go

lambda: lambda/lambda_test.go
lambda/lambda_parser.go lambda/lambda_lexer.go: grammars-v4/lambda/lambda.g4
lambda/lambda_test.go: lambda/lambda_parser.go lambda/lambda_lexer.go

lcc: lcc/lcc_test.go
lcc/lcc_parser.go lcc/lcc_lexer.go: grammars-v4/lcc/lcc.g4
lcc/lcc_test.go: lcc/lcc_parser.go lcc/lcc_lexer.go

less: less/less_test.go
less/less_parser.go less/less_lexer.go: grammars-v4/less/LessParser.g4 grammars-v4/less/LessLexer.g4
less/less_test.go: less/less_parser.go less/less_lexer.go

logo: logo/logo_test.go
logo/logo_parser.go logo/logo_lexer.go: grammars-v4/logo/logo.g4
logo/logo_test.go: logo/logo_parser.go logo/logo_lexer.go

lolcode: lolcode/lolcode_test.go
lolcode/lolcode_parser.go lolcode/lolcode_lexer.go: grammars-v4/lolcode/lolcode.g4
lolcode/lolcode_test.go: lolcode/lolcode_parser.go lolcode/lolcode_lexer.go

lua: lua/lua_test.go
lua/lua_parser.go lua/lua_lexer.go: grammars-v4/lua/Lua.g4
lua/lua_test.go: lua/lua_parser.go lua/lua_lexer.go

masm: masm/masm_test.go
masm/masm_parser.go masm/masm_lexer.go: grammars-v4/masm/MASM.g4
masm/masm_test.go: masm/masm_parser.go masm/masm_lexer.go

mdx: mdx/mdx_test.go
mdx/mdx_parser.go mdx/mdx_lexer.go: grammars-v4/mdx/mdx.g4
mdx/mdx_test.go: mdx/mdx_parser.go mdx/mdx_lexer.go

memcached_protocol: memcached_protocol/memcached_protocol_test.go
memcached_protocol/memcached_protocol_parser.go memcached_protocol/memcached_protocol_lexer.go: grammars-v4/memcached_protocol/memcached_protocol.g4
memcached_protocol/memcached_protocol_test.go: memcached_protocol/memcached_protocol_parser.go memcached_protocol/memcached_protocol_lexer.go

metric: metric/metric_test.go
metric/metric_parser.go metric/metric_lexer.go: grammars-v4/metric/metric.g4
metric/metric_test.go: metric/metric_parser.go metric/metric_lexer.go

modelica: modelica/modelica_test.go
modelica/modelica_parser.go modelica/modelica_lexer.go: grammars-v4/modelica/modelica.g4
modelica/modelica_test.go: modelica/modelica_parser.go modelica/modelica_lexer.go

modula2pim4: modula2pim4/m2pim4_test.go
modula2pim4/m2pim4_parser.go modula2pim4/m2pim4_lexer.go: grammars-v4/modula2pim4/m2pim4.g4
modula2pim4/m2pim4_test.go: modula2pim4/m2pim4_parser.go modula2pim4/m2pim4_lexer.go

molecule: molecule/molecule_test.go
molecule/molecule_parser.go molecule/molecule_lexer.go: grammars-v4/molecule/molecule.g4
molecule/molecule_test.go: molecule/molecule_parser.go molecule/molecule_lexer.go

morsecode: morsecode/morsecode_test.go
morsecode/morsecode_parser.go morsecode/morsecode_lexer.go: grammars-v4/morsecode/morsecode.g4
morsecode/morsecode_test.go: morsecode/morsecode_parser.go morsecode/morsecode_lexer.go

mps: mps/mps_test.go
mps/mps_parser.go mps/mps_lexer.go: grammars-v4/mps/mps.g4
mps/mps_test.go: mps/mps_parser.go mps/mps_lexer.go

mumath: mumath/mumath_test.go
mumath/mumath_parser.go mumath/mumath_lexer.go: grammars-v4/mumath/mumath.g4
mumath/mumath_test.go: mumath/mumath_parser.go mumath/mumath_lexer.go

mumps: mumps/mumps_test.go
mumps/mumps_parser.go mumps/mumps_lexer.go: grammars-v4/mumps/mumps.g4
mumps/mumps_test.go: mumps/mumps_parser.go mumps/mumps_lexer.go

muparser: muparser/muparser_test.go
muparser/muparser_parser.go muparser/muparser_lexer.go: grammars-v4/muparser/MuParser.g4
muparser/muparser_test.go: muparser/muparser_parser.go muparser/muparser_lexer.go

mysql: mysql/mysql_test.go
mysql/mysql_lexer.go mysql/mysql_parser.go: grammars-v4/mysql/MySqlLexer.g4 grammars-v4/mysql/MySqlParser.g4
mysql/mysql_test.go: mysql/mysql_lexer.go mysql/mysql_parser.go

oncrpc: oncrpc/oncrpcv2_test.go
oncrpc/oncrpcv2_parser.go oncrpc/oncrpcv2_lexer.go oncrpc/xdr_parser.go oncrpc/xdr_lexer.go: grammars-v4/oncrpc/oncrpcv2.g4 grammars-v4/oncrpc/xdr.g4
oncrpc/oncrpcv2_test.go: oncrpc/oncrpcv2_parser.go oncrpc/oncrpcv2_lexer.go oncrpc/xdr_parser.go oncrpc/xdr_lexer.go

p: p/p_test.go
p/p_parser.go p/p_lexer.go: grammars-v4/p/p.g4
p/p_test.go: p/p_parser.go p/p_lexer.go

pascal: pascal/pascal_test.go
pascal/pascal_parser.go pascal/pascal_lexer.go: grammars-v4/pascal/pascal.g4
pascal/pascal_test.go: pascal/pascal_parser.go pascal/pascal_lexer.go

pcre: pcre/pcre_test.go
pcre/pcre_parser.go pcre/pcre_lexer.go: grammars-v4/pcre/PCRE.g4
pcre/pcre_test.go: pcre/pcre_parser.go pcre/pcre_lexer.go

pddl: pddl/pddl_test.go
pddl/pddl_parser.go pddl/pddl_lexer.go: grammars-v4/pddl/Pddl.g4
pddl/pddl_test.go: pddl/pddl_parser.go pddl/pddl_lexer.go

pdn: pdn/pdn_test.go
pdn/pdn_parser.go pdn/pdn_lexer.go: grammars-v4/pdn/pdn.g4
pdn/pdn_test.go: pdn/pdn_parser.go pdn/pdn_lexer.go

pdp7: pdp7/pdp7_test.go
pdp7/pdp7_parser.go pdp7/pdp7_lexer.go: grammars-v4/pdp7/pdp7.g4
pdp7/pdp7_test.go: pdp7/pdp7_parser.go pdp7/pdp7_lexer.go

peoplecode: peoplecode/peoplecode_test.go
peoplecode/peoplecode_parser.go peoplecode/peoplecode_lexer.go: grammars-v4/peoplecode/PeopleCode.g4
peoplecode/peoplecode_test.go: peoplecode/peoplecode_parser.go peoplecode/peoplecode_lexer.go

pgn: pgn/pgn_test.go
pgn/pgn_parser.go pgn/pgn_lexer.go: grammars-v4/pgn/PGN.g4
pgn/pgn_test.go: pgn/pgn_parser.go pgn/pgn_lexer.go

php: php/php_test.go
php/php_lexer.go php/php_parser.go: grammars-v4/php/PHPLexer.g4 grammars-v4/php/PHPParser.g4
php/php_test.go: php/php_lexer.go php/php_parser.go

plsql: plsql/plsql_test.go
plsql/plsql_lexer.go plsql/plsql_parser.go: grammars-v4/plsql/PlSqlLexer.g4 grammars-v4/plsql/PlSqlParser.g4
plsql/plsql_test.go: plsql/plsql_lexer.go plsql/plsql_parser.go

postalcode: postalcode/postalcode_test.go
postalcode/postalcode_parser.go postalcode/postalcode_lexer.go: grammars-v4/postalcode/postalcode.g4
postalcode/postalcode_test.go: postalcode/postalcode_parser.go postalcode/postalcode_lexer.go

powerbuilder: powerbuilder/powerbuilder_test.go
powerbuilder/powerbuilder_parser.go powerbuilder/powerbuilder_lexer.go: grammars-v4/powerbuilder/powerbuilder.g4
powerbuilder/powerbuilder_test.go: powerbuilder/powerbuilder_parser.go powerbuilder/powerbuilder_lexer.go

prolog: prolog/prolog_test.go
prolog/prolog_parser.go prolog/prolog_lexer.go: grammars-v4/prolog/prolog.g4
prolog/prolog_test.go: prolog/prolog_parser.go prolog/prolog_lexer.go

propcalc: propcalc/propcalc_test.go
propcalc/propcalc_parser.go propcalc/propcalc_lexer.go: grammars-v4/propcalc/propcalc.g4
propcalc/propcalc_test.go: propcalc/propcalc_parser.go propcalc/propcalc_lexer.go

properties: properties/properties_test.go
properties/properties_parser.go properties/properties_lexer.go: grammars-v4/properties/properties.g4
properties/properties_test.go: properties/properties_parser.go properties/properties_lexer.go

protobuf3: protobuf3/protobuf3_test.go
protobuf3/protobuf3_parser.go protobuf3/protobuf3_lexer.go: grammars-v4/protobuf3/Protobuf3.g4
protobuf3/protobuf3_test.go: protobuf3/protobuf3_parser.go protobuf3/protobuf3_lexer.go

python2: python2/python2_test.go
python2/python2_parser.go python2/python2_lexer.go: grammars-v4/python2/Python2.g4
python2/python2_test.go: python2/python2_parser.go python2/python2_lexer.go

python3: python3/python3_test.go
python3/python3_parser.go python3/python3_lexer.go: grammars-v4/python3/Python3.g4
python3/python3_test.go: python3/python3_parser.go python3/python3_lexer.go

python3_js: python3_js/python3_test.go
python3_js/python3_parser.go python3_js/python3_lexer.go: grammars-v4/python3-js/Python3.g4
python3_js/python3_test.go: python3_js/python3_parser.go python3_js/python3_lexer.go

python3_py: python3_py/python3_test.go
python3_py/python3_parser.go python3_py/python3_lexer.go: grammars-v4/python3-py/Python3.g4
python3_py/python3_test.go: python3_py/python3_parser.go python3_py/python3_lexer.go

python3_ts: python3_ts/python3_test.go
python3_ts/python3_parser.go python3_ts/python3_lexer.go: grammars-v4/python3-ts/Python3.g4
python3_ts/python3_test.go: python3_ts/python3_parser.go python3_ts/python3_lexer.go

python3alt: python3alt/altpython3_test.go
python3alt/altpython3_parser.go python3alt/altpython3_lexer.go: grammars-v4/python3alt/AltPython3.g4
python3alt/altpython3_test.go: python3alt/altpython3_parser.go python3alt/altpython3_lexer.go

quakemap: quakemap/quakemap_test.go
quakemap/quakemap_parser.go quakemap/quakemap_lexer.go: grammars-v4/quakemap/quakemap.g4
quakemap/quakemap_test.go: quakemap/quakemap_parser.go quakemap/quakemap_lexer.go

r: r/rfilter_test.go
r/r_parser.go r/r_lexer.go r/rfilter_parser.go: grammars-v4/r/R.g4 grammars-v4/r/RFilter.g4
r/rfilter_test.go: r/r_parser.go r/r_lexer.go r/rfilter_parser.go

rcs: rcs/rcs_test.go
rcs/rcs_parser.go rcs/rcs_lexer.go: grammars-v4/rcs/RCS.g4
rcs/rcs_test.go: rcs/rcs_parser.go rcs/rcs_lexer.go

redcode: redcode/redcode_test.go
redcode/redcode_parser.go redcode/redcode_lexer.go: grammars-v4/redcode/redcode.g4
redcode/redcode_test.go: redcode/redcode_parser.go redcode/redcode_lexer.go

robotwars: robotwars/robotwar_test.go
robotwars/robotwar_parser.go robotwars/robotwar_lexer.go: grammars-v4/robotwars/robotwar.g4
robotwars/robotwar_test.go: robotwars/robotwar_parser.go robotwars/robotwar_lexer.go

romannumerals: romannumerals/romannumerals_test.go
romannumerals/romannumerals_parser.go romannumerals/romannumerals_lexer.go: grammars-v4/romannumerals/romannumerals.g4
romannumerals/romannumerals_test.go: romannumerals/romannumerals_parser.go romannumerals/romannumerals_lexer.go

rpn: rpn/rpn_test.go
rpn/rpn_parser.go rpn/rpn_lexer.go: grammars-v4/rpn/rpn.g4
rpn/rpn_test.go: rpn/rpn_parser.go rpn/rpn_lexer.go

ruby: ruby/corundum_test.go
ruby/corundum_parser.go ruby/corundum_lexer.go: grammars-v4/ruby/Corundum.g4
ruby/corundum_test.go: ruby/corundum_parser.go ruby/corundum_lexer.go

scala: scala/scala_test.go
scala/scala_parser.go scala/scala_lexer.go: grammars-v4/scala/Scala.g4
scala/scala_test.go: scala/scala_parser.go scala/scala_lexer.go

scss: scss/scss_test.go
scss/scss_parser.go scss/scss_lexer.go: grammars-v4/scss/ScssParser.g4 grammars-v4/scss/ScssLexer.g4
scss/scss_test.go: scss/scss_parser.go scss/scss_lexer.go

sexpression: sexpression/sexpression_test.go
sexpression/sexpression_parser.go sexpression/sexpression_lexer.go: grammars-v4/sexpression/sexpression.g4
sexpression/sexpression_test.go: sexpression/sexpression_parser.go sexpression/sexpression_lexer.go

sharc: sharc/sharc_test.go
sharc/sharc_parser.go sharc/sharc_lexer.go: grammars-v4/sharc/SHARCParser.g4 grammars-v4/sharc/SHARCLexer.g4
sharc/sharc_test.go: sharc/sharc_parser.go sharc/sharc_lexer.go

smalltalk: smalltalk/smalltalk_test.go
smalltalk/smalltalk_parser.go smalltalk/smalltalk_lexer.go: grammars-v4/smalltalk/Smalltalk.g4
smalltalk/smalltalk_test.go: smalltalk/smalltalk_parser.go smalltalk/smalltalk_lexer.go

smtlibv2: smtlibv2/smtlibv2_test.go
smtlibv2/smtlibv2_parser.go smtlibv2/smtlibv2_lexer.go: grammars-v4/smtlibv2/SMTLIBv2.g4
smtlibv2/smtlibv2_test.go: smtlibv2/smtlibv2_parser.go smtlibv2/smtlibv2_lexer.go

snobol: snobol/snobol_test.go
snobol/snobol_parser.go snobol/snobol_lexer.go: grammars-v4/snobol/snobol.g4
snobol/snobol_test.go: snobol/snobol_parser.go snobol/snobol_lexer.go

sparql: sparql/sparql_test.go
sparql/sparql_parser.go sparql/sparql_lexer.go: grammars-v4/sparql/Sparql.g4
sparql/sparql_test.go: sparql/sparql_parser.go sparql/sparql_lexer.go

sqlite: sqlite/sqlite_test.go
sqlite/sqlite_parser.go sqlite/sqlite_lexer.go: grammars-v4/sqlite/SQLite.g4
sqlite/sqlite_test.go: sqlite/sqlite_parser.go sqlite/sqlite_lexer.go

stacktrace: stacktrace/stacktrace_test.go
stacktrace/stacktrace_parser.go stacktrace/stacktrace_lexer.go: grammars-v4/stacktrace/StackTrace.g4
stacktrace/stacktrace_test.go: stacktrace/stacktrace_parser.go stacktrace/stacktrace_lexer.go

stringtemplate: stringtemplate/st_test.go
stringtemplate/st_parser.go stringtemplate/stg_lexer.go stringtemplate/stg_parser.go stringtemplate/st_lexer.go: grammars-v4/stringtemplate/STParser.g4 grammars-v4/stringtemplate/STGLexer.g4 grammars-v4/stringtemplate/STGParser.g4 grammars-v4/stringtemplate/STLexer.g4
stringtemplate/st_test.go: stringtemplate/st_parser.go stringtemplate/stg_lexer.go stringtemplate/stg_parser.go stringtemplate/st_lexer.go

suokif: suokif/suokif_test.go
suokif/suokif_parser.go suokif/suokif_lexer.go: grammars-v4/suokif/SUOKIF.g4
suokif/suokif_test.go: suokif/suokif_parser.go suokif/suokif_lexer.go

swift2: swift2/2.2_test.go
swift2/2.2_parser.go swift2/2.2_lexer.go: grammars-v4/swift2/Swift2.g4
swift2/2.2_test.go: swift2/2.2_parser.go swift2/2.2_lexer.go

swift3: swift3/swift3_test.go
swift3/swift3_parser.go swift3/swift3_lexer.go: grammars-v4/swift3/Swift3.g4
swift3/swift3_test.go: swift3/swift3_parser.go swift3/swift3_lexer.go

telephone: telephone/telephone_test.go
telephone/telephone_parser.go telephone/telephone_lexer.go: grammars-v4/telephone/telephone.g4
telephone/telephone_test.go: telephone/telephone_parser.go telephone/telephone_lexer.go

tiny: tiny/tiny_test.go
tiny/tiny_parser.go tiny/tiny_lexer.go: grammars-v4/tiny/tiny.g4
tiny/tiny_test.go: tiny/tiny_parser.go tiny/tiny_lexer.go

tinyc: tinyc/tinyc_test.go
tinyc/tinyc_parser.go tinyc/tinyc_lexer.go: grammars-v4/tinyc/tinyc.g4
tinyc/tinyc_test.go: tinyc/tinyc_parser.go tinyc/tinyc_lexer.go

tnsnames: tnsnames/tnsnames_test.go
tnsnames/tnsnames_parser.go tnsnames/tnsnames_lexer.go: grammars-v4/tnsnames/tnsnamesParser.g4 grammars-v4/tnsnames/tnsnamesLexer.g4
tnsnames/tnsnames_test.go: tnsnames/tnsnames_parser.go tnsnames/tnsnames_lexer.go

tnt: tnt/tnt_test.go
tnt/tnt_parser.go tnt/tnt_lexer.go: grammars-v4/tnt/tnt.g4
tnt/tnt_test.go: tnt/tnt_parser.go tnt/tnt_lexer.go

tsql: tsql/tsql_test.go
tsql/tsql_lexer.go tsql/tsql_parser.go: grammars-v4/tsql/TSqlLexer.g4 grammars-v4/tsql/TSqlParser.g4
tsql/tsql_test.go: tsql/tsql_lexer.go tsql/tsql_parser.go

turtle: turtle/turtle_test.go
turtle/turtle_parser.go turtle/turtle_lexer.go: grammars-v4/turtle/TURTLE.g4
turtle/turtle_test.go: turtle/turtle_parser.go turtle/turtle_lexer.go

ucb_logo: ucb_logo/ucblogo_test.go
ucb_logo/ucblogo_parser.go ucb_logo/ucblogo_lexer.go: grammars-v4/ucb-logo/UCBLogo.g4
ucb_logo/ucblogo_test.go: ucb_logo/ucblogo_parser.go ucb_logo/ucblogo_lexer.go

unicode/graphemes: unicode/graphemes/graphemes_test.go
unicode/graphemes/graphemes_parser.go unicode/graphemes/graphemes_lexer.go: grammars-v4/unicode/graphemes/Graphemes.g4
unicode/graphemes/graphemes_test.go: unicode/graphemes/graphemes_parser.go unicode/graphemes/graphemes_lexer.go

unicode/unicode16: unicode/unicode16/classify_test.go
unicode/unicode16/classify_parser.go unicode/unicode16/classify_lexer.go: grammars-v4/unicode/unicode16/classify.g4
unicode/unicode16/classify_test.go: unicode/unicode16/classify_parser.go unicode/unicode16/classify_lexer.go

url: url/url_test.go
url/url_parser.go url/url_lexer.go: grammars-v4/url/url.g4
url/url_test.go: url/url_parser.go url/url_lexer.go

useragent: useragent/useragent_test.go
useragent/useragent_parser.go useragent/useragent_lexer.go: grammars-v4/useragent/useragent.g4
useragent/useragent_test.go: useragent/useragent_parser.go useragent/useragent_lexer.go

vb6: vb6/visualbasic6_test.go
vb6/visualbasic6_parser.go vb6/visualbasic6_lexer.go: grammars-v4/vb6/VisualBasic6.g4
vb6/visualbasic6_test.go: vb6/visualbasic6_parser.go vb6/visualbasic6_lexer.go

vba: vba/vba_test.go
vba/vba_parser.go vba/vba_lexer.go: grammars-v4/vba/vba.g4
vba/vba_test.go: vba/vba_parser.go vba/vba_lexer.go

verilog: verilog/verilog2001_test.go
verilog/verilog2001_parser.go verilog/verilog2001_lexer.go: grammars-v4/verilog/Verilog2001.g4
verilog/verilog2001_test.go: verilog/verilog2001_parser.go verilog/verilog2001_lexer.go

vhdl: vhdl/vhdl_test.go
vhdl/vhdl_parser.go vhdl/vhdl_lexer.go: grammars-v4/vhdl/vhdl.g4
vhdl/vhdl_test.go: vhdl/vhdl_parser.go vhdl/vhdl_lexer.go

wavefront: wavefront/wavefrontobj_test.go
wavefront/wavefrontobj_parser.go wavefront/wavefrontobj_lexer.go: grammars-v4/wavefront/WavefrontOBJ.g4
wavefront/wavefrontobj_test.go: wavefront/wavefrontobj_parser.go wavefront/wavefrontobj_lexer.go

webidl: webidl/webidl_test.go
webidl/webidl_parser.go webidl/webidl_lexer.go: grammars-v4/webidl/WebIDL.g4
webidl/webidl_test.go: webidl/webidl_parser.go webidl/webidl_lexer.go

xml: xml/xml_test.go
xml/xml_parser.go xml/xml_lexer.go: grammars-v4/xml/XMLParser.g4 grammars-v4/xml/XMLLexer.g4
xml/xml_test.go: xml/xml_parser.go xml/xml_lexer.go

xpath: xpath/xpath_test.go
xpath/xpath_parser.go xpath/xpath_lexer.go: grammars-v4/xpath/xpath.g4
xpath/xpath_test.go: xpath/xpath_parser.go xpath/xpath_lexer.go

z: z/z_test.go
z/z_parser.go z/z_lexer.go z/zoperator_parser.go: grammars-v4/z/ZParser.g4 grammars-v4/z/ZLexer.g4 grammars-v4/z/ZOperatorParser.g4
z/z_test.go: z/z_parser.go z/z_lexer.go z/zoperator_parser.go

%_lexer.go %_parser.go:
	lang=$$(dirname $@); \
	errors=$$lang/$$(basename $*).errors; \
	mkdir -p $$lang; \
	pushd $$(dirname $<) > /dev/null; \
	java -jar $(ANTLR_BIN) $(ANTLR_ARGS) -package $$lang $(notdir $^) -o ../../$$lang > ../../$$errors 2>&1; \
	RET=$$?; \
	popd > /dev/null; \
	if [ $$RET -ne 0 ]; then \
		printf "| %s  | $(LANG_COLOR)%-15s$(NO_COLOR) | %-75s |\n" "❌" "$$lang" "antlr: $$(tail -n 1 $$errors)"; \
		rm $$lang/*.go > /dev/null 2>&1 || true; \
		exit $$RET; \
	fi; \
	shopt -s nullglob; \
	go build $*_*.go $*parser_*.go >> $$errors 2>&1; \
	RET=$$?; \
	if [ $$RET -ne 0 ]; then \
		printf "| %s  | $(LANG_COLOR)%-15s$(NO_COLOR) | %-75s |\n" "❌" "$$lang" "build: $$(tail -n 1 $$errors)"; \
		exit $$RET; \
	fi;

%_test.go:
	lang=$$(dirname $@); \
	errors=$$lang/$$(basename $*).errors; \
	go run maketest.go $$lang >> $$errors 2>&1; \
	RET=$$?; \
	if [ $$RET -ne 0 ]; then \
		printf "| %s  | $(LANG_COLOR)%-15s$(NO_COLOR) | %-75s |\n" "❌" "$$lang" "maketest: $$(tail -n 1 $$errors)"; \
		exit $$RET; \
	fi; \
	go test -timeout 10s ./$$lang >> $$errors 2>&1; \
	RET=$$?; \
	if [ $$RET -ne 0 ]; then \
		printf "| %s  | $(LANG_COLOR)%-15s$(NO_COLOR) | %-75s |\n" "❌" "$$lang" " test: $$(tail -n 1 $$errors)"; \
		exit $$RET; \
	fi; \
	if [[ -s $$errors ]]; then \
		rm $$errors; \
		printf "| %s  | $(LANG_COLOR)%-15s$(NO_COLOR) | %-75s |\n" "✅" "$$lang" ""; \
	else \
		printf "| %s  | $(LANG_COLOR)%-15s$(NO_COLOR) | %-75s |\n" "⚠️" "$$lang" "$$(tail -n 1 $$errors)"; \
	fi;
